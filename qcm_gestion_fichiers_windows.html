<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QCM ‚Äî Gestion des fichiers Windows</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,600;0,800;1,600&family=DM+Sans:ital,wght@0,300;0,400;0,500;0,700;1,400&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --dark:   #1C1612;
    --brown:  #3D2B1F;
    --terra:  #B85042;
    --rust:   #8B3A2F;
    --sand:   #E7E8D1;
    --cream:  #F5F2EC;
    --sage:   #A7BEAE;
    --gold:   #D4A843;
    --white:  #FFFFFF;
    --gray:   #7A6B5E;
    --lgray:  #B8AFA8;
    --green:  #4A7C59;
    --orange: #D4782A;
    --red:    #B83030;
    --text:   #2C1F17;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--cream);
    font-family: 'DM Sans', sans-serif;
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* ‚îÄ‚îÄ‚îÄ Texture background ‚îÄ‚îÄ‚îÄ */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: radial-gradient(circle at 20% 30%, rgba(184,80,66,0.05) 0%, transparent 60%),
                      radial-gradient(circle at 80% 70%, rgba(212,168,67,0.06) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
  }

  /* ‚îÄ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ‚îÄ */
  header {
    position: relative;
    z-index: 10;
    background: var(--brown);
    padding: 0;
    overflow: hidden;
  }

  .header-accent {
    position: absolute;
    left: 0; top: 0; bottom: 0;
    width: 8px;
    background: var(--terra);
  }

  .header-inner {
    padding: 40px 48px 36px 56px;
    display: flex;
    align-items: flex-end;
    gap: 32px;
    flex-wrap: wrap;
  }

  .folder-icon {
    width: 64px;
    height: 56px;
    position: relative;
    flex-shrink: 0;
  }
  .folder-body {
    position: absolute;
    bottom: 0; left: 0;
    width: 64px; height: 44px;
    background: var(--gold);
    border-radius: 2px 6px 6px 6px;
  }
  .folder-tab {
    position: absolute;
    top: 6px; left: 0;
    width: 26px; height: 10px;
    background: var(--orange);
    border-radius: 2px 6px 0 0;
  }

  .header-text { flex: 1; min-width: 240px; }

  .header-eyebrow {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    letter-spacing: 2px;
    color: var(--gold);
    text-transform: uppercase;
    margin-bottom: 8px;
  }

  h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(26px, 4vw, 44px);
    font-weight: 800;
    color: var(--sand);
    line-height: 1.1;
    margin-bottom: 8px;
  }

  .header-sub {
    color: var(--lgray);
    font-size: 14px;
    font-weight: 300;
  }

  .header-chips {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    align-items: flex-end;
  }

  .chip {
    padding: 6px 14px;
    border-radius: 100px;
    font-size: 12px;
    font-family: 'DM Mono', monospace;
    border: 1px solid rgba(255,255,255,0.12);
    color: var(--lgray);
    background: rgba(255,255,255,0.04);
  }
  .chip.highlight {
    background: rgba(184,80,66,0.2);
    border-color: var(--terra);
    color: var(--sand);
  }

  /* ‚îÄ‚îÄ‚îÄ PROGRESS ‚îÄ‚îÄ‚îÄ */
  .progress-section {
    position: relative;
    z-index: 10;
    background: var(--dark);
    padding: 16px 48px;
  }

  .progress-row {
    display: flex;
    align-items: center;
    gap: 20px;
    max-width: 960px;
    margin: 0 auto;
  }

  .progress-track {
    flex: 1;
    height: 4px;
    background: rgba(255,255,255,0.08);
    border-radius: 100px;
    overflow: hidden;
  }

  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--terra), var(--gold));
    border-radius: 100px;
    transition: width 0.5s cubic-bezier(0.4,0,0.2,1);
  }

  .progress-info {
    font-family: 'DM Mono', monospace;
    font-size: 12px;
    color: var(--gold);
    white-space: nowrap;
  }

  .score-info {
    font-family: 'DM Mono', monospace;
    font-size: 12px;
    color: var(--lgray);
    white-space: nowrap;
  }

  /* ‚îÄ‚îÄ‚îÄ DOTS ‚îÄ‚îÄ‚îÄ */
  .dots-section {
    position: relative;
    z-index: 10;
    background: var(--dark);
    padding: 0 48px 14px;
    border-bottom: 1px solid rgba(255,255,255,0.06);
  }

  .dots-wrap {
    max-width: 960px;
    margin: 0 auto;
    display: flex;
    gap: 5px;
    flex-wrap: wrap;
  }

  .dot {
    width: 7px;
    height: 7px;
    border-radius: 50%;
    background: rgba(255,255,255,0.1);
    transition: all 0.3s ease;
    cursor: default;
  }
  .dot.current { background: var(--gold); box-shadow: 0 0 6px var(--gold); width: 18px; border-radius: 4px; }
  .dot.correct { background: var(--green); }
  .dot.wrong   { background: var(--terra); }
  .dot.skipped { background: var(--gray); }

  /* ‚îÄ‚îÄ‚îÄ MAIN ‚îÄ‚îÄ‚îÄ */
  main {
    position: relative;
    z-index: 10;
    max-width: 960px;
    margin: 0 auto;
    padding: 40px 24px 60px;
  }

  /* ‚îÄ‚îÄ‚îÄ START SCREEN ‚îÄ‚îÄ‚îÄ */
  #start-screen {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
    align-items: start;
  }

  @media (max-width: 640px) {
    #start-screen { grid-template-columns: 1fr; }
  }

  .start-main {
    background: var(--white);
    border: 1px solid rgba(0,0,0,0.08);
    border-radius: 16px;
    padding: 40px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.08);
  }

  .start-icon-wrap { margin-bottom: 24px; }

  .start-title {
    font-family: 'Playfair Display', serif;
    font-size: 26px;
    font-weight: 800;
    color: var(--brown);
    margin-bottom: 12px;
    line-height: 1.2;
  }

  .start-desc {
    color: var(--gray);
    font-size: 15px;
    line-height: 1.6;
    margin-bottom: 28px;
  }

  .stats-row {
    display: grid;
    grid-template-columns: repeat(3,1fr);
    gap: 12px;
    margin-bottom: 28px;
  }

  .stat-card {
    text-align: center;
    padding: 16px 8px;
    background: var(--cream);
    border-radius: 10px;
    border: 1px solid rgba(0,0,0,0.06);
  }
  .stat-val { font-size: 28px; font-weight: 700; color: var(--terra); margin-bottom: 4px; font-family: 'Playfair Display', serif; }
  .stat-lbl { font-size: 11px; color: var(--gray); font-family: 'DM Mono', monospace; letter-spacing: 0.5px; }

  .btn-start {
    width: 100%;
    padding: 16px;
    background: var(--terra);
    color: var(--white);
    border: none;
    border-radius: 10px;
    font-family: 'DM Sans', sans-serif;
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s ease;
    letter-spacing: 0.3px;
  }
  .btn-start:hover { background: var(--rust); transform: translateY(-2px); box-shadow: 0 8px 24px rgba(184,80,66,0.35); }

  .start-topics {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .topic-item {
    background: var(--white);
    border: 1px solid rgba(0,0,0,0.08);
    border-radius: 10px;
    padding: 14px 18px;
    display: flex;
    align-items: center;
    gap: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.04);
  }

  .topic-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    flex-shrink: 0;
  }

  .topic-name { font-size: 14px; font-weight: 500; color: var(--text); flex: 1; }
  .topic-count { font-family: 'DM Mono', monospace; font-size: 11px; color: var(--lgray); }

  /* ‚îÄ‚îÄ‚îÄ QUIZ SCREEN ‚îÄ‚îÄ‚îÄ */
  #quiz-screen { display: none; }

  .question-card {
    background: var(--white);
    border: 1px solid rgba(0,0,0,0.08);
    border-radius: 20px;
    padding: 40px;
    box-shadow: 0 12px 48px rgba(0,0,0,0.08);
    animation: cardIn 0.35s cubic-bezier(0.4,0,0.2,1);
    position: relative;
    overflow: hidden;
  }

  .question-card::after {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--terra), var(--gold));
  }

  @keyframes cardIn {
    from { opacity: 0; transform: translateY(16px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  .q-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 24px;
  }

  .q-badge {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    padding: 4px 10px;
    border-radius: 6px;
    background: rgba(184,80,66,0.1);
    color: var(--terra);
    border: 1px solid rgba(184,80,66,0.2);
    letter-spacing: 0.5px;
  }

  .q-cat {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    color: var(--lgray);
    letter-spacing: 0.5px;
  }

  .q-text {
    font-family: 'Playfair Display', serif;
    font-size: clamp(17px, 2.5vw, 22px);
    font-weight: 600;
    line-height: 1.45;
    color: var(--brown);
    margin-bottom: 28px;
  }

  /* ‚îÄ‚îÄ‚îÄ OPTIONS ‚îÄ‚îÄ‚îÄ */
  .options {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 24px;
  }

  .opt-btn {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 14px 18px;
    background: var(--cream);
    border: 1.5px solid rgba(0,0,0,0.08);
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: left;
    color: var(--text);
    font-family: 'DM Sans', sans-serif;
    font-size: 15px;
    font-weight: 400;
    line-height: 1.4;
  }

  .opt-btn:hover:not(:disabled) {
    border-color: var(--terra);
    background: rgba(184,80,66,0.04);
    transform: translateX(4px);
  }

  .opt-letter {
    min-width: 32px;
    height: 32px;
    border-radius: 8px;
    background: rgba(0,0,0,0.06);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'DM Mono', monospace;
    font-size: 12px;
    font-weight: 500;
    color: var(--terra);
    flex-shrink: 0;
    transition: all 0.2s ease;
  }

  .opt-text { flex: 1; }

  .opt-btn.selected {
    border-color: var(--terra);
    background: rgba(184,80,66,0.06);
  }
  .opt-btn.selected .opt-letter { background: var(--terra); color: var(--white); }

  .opt-btn.correct-ans {
    border-color: var(--green);
    background: rgba(74,124,89,0.08);
    animation: correctFlash 0.4s ease;
  }
  .opt-btn.correct-ans .opt-letter { background: var(--green); color: var(--white); }

  .opt-btn.wrong-ans {
    border-color: var(--red);
    background: rgba(184,48,48,0.07);
    animation: wrongShake 0.4s ease;
  }
  .opt-btn.wrong-ans .opt-letter { background: var(--red); color: var(--white); }

  .opt-btn.reveal {
    border-color: rgba(74,124,89,0.4);
    background: rgba(74,124,89,0.05);
  }
  .opt-btn.reveal .opt-letter { background: rgba(74,124,89,0.2); color: var(--green); }

  .opt-btn:disabled { cursor: default; transform: none; }

  @keyframes correctFlash {
    0% { transform: scale(1); }
    40% { transform: scale(1.018); }
    100% { transform: scale(1); }
  }
  @keyframes wrongShake {
    0%,100% { transform: translateX(0); }
    20% { transform: translateX(-7px); }
    40% { transform: translateX(7px); }
    60% { transform: translateX(-4px); }
    80% { transform: translateX(4px); }
  }

  /* ‚îÄ‚îÄ‚îÄ FEEDBACK ‚îÄ‚îÄ‚îÄ */
  .feedback-box {
    display: none;
    gap: 14px;
    align-items: flex-start;
    padding: 16px 20px;
    border-radius: 12px;
    margin-bottom: 24px;
    animation: fadeUp 0.3s ease;
  }
  .feedback-box.show { display: flex; }
  .fb-correct { background: rgba(74,124,89,0.1); border: 1px solid rgba(74,124,89,0.25); }
  .fb-wrong   { background: rgba(184,80,66,0.08); border: 1px solid rgba(184,80,66,0.2); }

  .fb-icon { font-size: 22px; flex-shrink: 0; }
  .fb-content strong { display: block; font-size: 14px; font-weight: 700; margin-bottom: 4px; }
  .fb-content p { font-size: 13px; line-height: 1.55; color: var(--gray); }
  .fb-correct .fb-content strong { color: var(--green); }
  .fb-wrong   .fb-content strong { color: var(--terra); }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(-6px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  /* ‚îÄ‚îÄ‚îÄ CARD FOOTER ‚îÄ‚îÄ‚îÄ */
  .card-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 12px;
  }

  .btn {
    padding: 11px 24px;
    border-radius: 10px;
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s ease;
    border: none;
  }

  .btn-primary {
    background: var(--terra);
    color: var(--white);
    box-shadow: 0 4px 16px rgba(184,80,66,0.3);
  }
  .btn-primary:hover { background: var(--rust); transform: translateY(-1px); }
  .btn-primary:disabled { opacity: 0.35; cursor: default; transform: none; box-shadow: none; }

  .btn-ghost {
    background: transparent;
    color: var(--lgray);
    border: 1.5px solid rgba(0,0,0,0.1);
  }
  .btn-ghost:hover { border-color: var(--terra); color: var(--terra); }

  .tip-text {
    font-size: 12px;
    color: var(--lgray);
    font-style: italic;
    flex: 1;
    text-align: center;
  }

  /* ‚îÄ‚îÄ‚îÄ RESULTS ‚îÄ‚îÄ‚îÄ */
  #results-screen { display: none; animation: cardIn 0.5s ease; }

  .results-hero {
    background: var(--brown);
    border-radius: 20px;
    padding: 48px 40px;
    text-align: center;
    margin-bottom: 24px;
    position: relative;
    overflow: hidden;
  }

  .results-hero::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 50% 0%, rgba(212,168,67,0.1) 0%, transparent 60%);
  }

  .trophy-wrap { font-size: 64px; margin-bottom: 16px; animation: trophyBounce 0.8s cubic-bezier(0.34,1.56,0.64,1) 0.2s both; display: block; position: relative; z-index: 1; }

  @keyframes trophyBounce {
    from { transform: scale(0) rotate(-15deg); opacity: 0; }
    to   { transform: scale(1) rotate(0deg); opacity: 1; }
  }

  .score-big {
    font-family: 'Playfair Display', serif;
    font-size: 72px;
    font-weight: 800;
    color: var(--gold);
    line-height: 1;
    position: relative; z-index: 1;
  }

  .score-pct {
    font-size: 18px;
    color: var(--lgray);
    margin: 6px 0 20px;
    position: relative; z-index: 1;
  }

  .grade-text {
    font-family: 'Playfair Display', serif;
    font-size: 28px;
    font-weight: 800;
    position: relative; z-index: 1;
    margin-bottom: 8px;
  }

  .grade-msg {
    color: var(--lgray);
    font-size: 15px;
    line-height: 1.6;
    max-width: 480px;
    margin: 0 auto;
    position: relative; z-index: 1;
  }

  .results-stats {
    display: grid;
    grid-template-columns: repeat(3,1fr);
    gap: 16px;
    margin-bottom: 24px;
  }

  .res-stat {
    background: var(--white);
    border: 1px solid rgba(0,0,0,0.08);
    border-radius: 14px;
    padding: 24px;
    text-align: center;
    box-shadow: 0 4px 16px rgba(0,0,0,0.05);
  }
  .res-stat .val { font-family: 'Playfair Display', serif; font-size: 40px; font-weight: 800; margin-bottom: 6px; }
  .res-stat .lbl { font-size: 12px; color: var(--gray); font-family: 'DM Mono', monospace; }

  .results-actions {
    display: flex;
    gap: 12px;
    justify-content: center;
    margin-bottom: 36px;
  }

  .btn-lg {
    padding: 14px 32px;
    font-size: 15px;
    border-radius: 12px;
  }

  /* ‚îÄ‚îÄ‚îÄ REVIEW ‚îÄ‚îÄ‚îÄ */
  .review-wrap {
    background: var(--white);
    border: 1px solid rgba(0,0,0,0.08);
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 4px 16px rgba(0,0,0,0.05);
  }

  .review-header {
    background: var(--brown);
    padding: 16px 24px;
    font-family: 'Playfair Display', serif;
    font-size: 18px;
    font-weight: 600;
    color: var(--sand);
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .review-item {
    padding: 16px 24px;
    border-bottom: 1px solid rgba(0,0,0,0.05);
    display: flex;
    gap: 14px;
    align-items: flex-start;
  }
  .review-item:last-child { border-bottom: none; }
  .review-item.r-ok   { background: rgba(74,124,89,0.03); }
  .review-item.r-ko   { background: rgba(184,80,66,0.03); }

  .r-icon { font-size: 16px; flex-shrink: 0; margin-top: 1px; }
  .r-q    { font-size: 13px; font-weight: 500; color: var(--text); margin-bottom: 4px; }
  .r-a    { font-size: 12px; font-family: 'DM Mono', monospace; }
  .r-ok .r-a { color: var(--green); }
  .r-ko .r-a { color: var(--terra); }

  @media (max-width: 540px) {
    .results-stats { grid-template-columns: 1fr 1fr; }
    header .header-inner { padding: 28px 24px 24px 32px; }
    .progress-section, .dots-section { padding-left: 24px; padding-right: 24px; }
    main { padding: 24px 16px 48px; }
    .question-card { padding: 28px 20px; }
    .results-hero { padding: 36px 24px; }
  }
</style>
</head>
<body>

<header>
  <div class="header-accent"></div>
  <div class="header-inner">
    <div class="folder-icon">
      <div class="folder-tab"></div>
      <div class="folder-body"></div>
    </div>
    <div class="header-text">
      <div class="header-eyebrow">Quiz interactif</div>
      <h1>G√©rer ses fichiers Windows</h1>
      <p class="header-sub">Testez toutes vos connaissances sur la gestion des fichiers</p>
    </div>
    <div class="header-chips">
      <span class="chip highlight">30 questions</span>
      <span class="chip">8 th√®mes</span>
      <span class="chip">4 choix</span>
    </div>
  </div>
</header>

<div class="progress-section" id="progress-section" style="display:none;">
  <div class="progress-row">
    <span class="progress-info" id="prog-label">1 / 30</span>
    <div class="progress-track"><div class="progress-fill" id="prog-fill" style="width:0%"></div></div>
    <span class="score-info" id="score-label">Score : 0</span>
  </div>
</div>

<div class="dots-section" id="dots-section" style="display:none;">
  <div class="dots-wrap" id="dots-wrap"></div>
</div>

<main>

  <!-- ‚ïê‚ïê START SCREEN ‚ïê‚ïê -->
  <div id="start-screen">
    <div class="start-main">
      <div class="start-icon-wrap">
        <span style="font-size:52px;">üóÇÔ∏è</span>
      </div>
      <h2 class="start-title">Pr√™t √† tester vos<br>connaissances ?</h2>
      <p class="start-desc">Ce QCM couvre tous les th√®mes de la pr√©sentation : Explorateur, arborescence, nommage, copier/d√©placer, recherche, Corbeille, ZIP et bonnes pratiques.</p>
      <div class="stats-row">
        <div class="stat-card"><div class="stat-val">30</div><div class="stat-lbl">QUESTIONS</div></div>
        <div class="stat-card"><div class="stat-val">8</div><div class="stat-lbl">TH√àMES</div></div>
        <div class="stat-card"><div class="stat-val">4</div><div class="stat-lbl">CHOIX/Q.</div></div>
      </div>
      <button class="btn-start" onclick="startQuiz()">Commencer le QCM ‚Üí</button>
    </div>

    <div class="start-topics">
      <div style="font-family:'DM Mono',monospace;font-size:11px;letter-spacing:1px;color:var(--lgray);margin-bottom:4px;padding-left:4px;">TH√àMES DU QCM</div>
      <div class="topic-item"><div class="topic-dot" style="background:#B85042"></div><div class="topic-name">L'Explorateur de fichiers</div><div class="topic-count">4 q.</div></div>
      <div class="topic-item"><div class="topic-dot" style="background:#D4782A"></div><div class="topic-name">Arborescence Windows</div><div class="topic-count">4 q.</div></div>
      <div class="topic-item"><div class="topic-dot" style="background:#D4A843"></div><div class="topic-name">Cr√©er & nommer ses fichiers</div><div class="topic-count">4 q.</div></div>
      <div class="topic-item"><div class="topic-dot" style="background:#A7BEAE"></div><div class="topic-name">Copier, d√©placer, supprimer</div><div class="topic-count">4 q.</div></div>
      <div class="topic-item"><div class="topic-dot" style="background:#4A7C59"></div><div class="topic-name">Rechercher un fichier</div><div class="topic-count">4 q.</div></div>
      <div class="topic-item"><div class="topic-dot" style="background:#8B3A2F"></div><div class="topic-name">La Corbeille</div><div class="topic-count">4 q.</div></div>
      <div class="topic-item"><div class="topic-dot" style="background:#7A6B5E"></div><div class="topic-name">Compression & archives ZIP</div><div class="topic-count">4 q.</div></div>
      <div class="topic-item"><div class="topic-dot" style="background:#3D2B1F"></div><div class="topic-name">Bonnes pratiques</div><div class="topic-count">6 q.</div></div>
    </div>
  </div>

  <!-- ‚ïê‚ïê QUIZ SCREEN ‚ïê‚ïê -->
  <div id="quiz-screen">
    <div class="question-card" id="q-card">
      <div class="q-header">
        <span class="q-badge" id="q-num">Q.01</span>
        <span class="q-cat" id="q-cat">EXPLORATEUR</span>
      </div>
      <div class="q-text" id="q-text"></div>
      <div class="options" id="options"></div>
      <div class="feedback-box" id="feedback">
        <span class="fb-icon" id="fb-icon"></span>
        <div class="fb-content">
          <strong id="fb-title"></strong>
          <p id="fb-body"></p>
        </div>
      </div>
      <div class="card-footer">
        <button class="btn btn-ghost" id="skip-btn" onclick="skipQ()">Passer</button>
        <span class="tip-text" id="tip-text">S√©lectionnez une r√©ponse</span>
        <button class="btn btn-primary" id="next-btn" onclick="nextQ()" disabled>Suivant ‚Üí</button>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê RESULTS SCREEN ‚ïê‚ïê -->
  <div id="results-screen">
    <div class="results-hero">
      <span class="trophy-wrap" id="trophy">üèÜ</span>
      <div class="score-big" id="r-score">0/30</div>
      <div class="score-pct" id="r-pct">0% de r√©ussite</div>
      <div class="grade-text" id="r-grade"></div>
      <p class="grade-msg" id="r-msg"></p>
    </div>

    <div class="results-stats">
      <div class="res-stat">
        <div class="val" style="color:var(--green)" id="s-ok">0</div>
        <div class="lbl">CORRECTES ‚úÖ</div>
      </div>
      <div class="res-stat">
        <div class="val" style="color:var(--terra)" id="s-ko">0</div>
        <div class="lbl">INCORRECTES ‚ùå</div>
      </div>
      <div class="res-stat">
        <div class="val" style="color:var(--orange)" id="s-sk">0</div>
        <div class="lbl">PASS√âES ‚è≠Ô∏è</div>
      </div>
    </div>

    <div class="results-actions">
      <button class="btn btn-primary btn-lg" onclick="restart()">üîÑ Recommencer</button>
    </div>

    <div class="review-wrap">
      <div class="review-header">üìã R√©vision compl√®te des r√©ponses</div>
      <div id="review-list"></div>
    </div>
  </div>

</main>

<script>
const Q = [
  // ‚îÄ‚îÄ EXPLORATEUR (4) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    cat: "EXPLORATEUR",
    q: "Quel raccourci clavier ouvre instantan√©ment l'Explorateur de fichiers Windows ?",
    opts: ["Ctrl + E", "Win + E", "Alt + E", "Win + F"],
    ans: 1,
    exp: "Win + E est le raccourci universel pour ouvrir l'Explorateur de fichiers directement depuis n'importe quel contexte."
  },
  {
    cat: "EXPLORATEUR",
    q: "Quelle zone de l'Explorateur de fichiers affiche le chemin du dossier actuel ?",
    opts: ["Le ruban (Ribbon)", "Le volet de navigation", "La barre d'adresse", "La barre de statut"],
    ans: 2,
    exp: "La barre d'adresse (en haut de la fen√™tre) affiche le chemin complet du dossier actif. On peut cliquer dessus pour taper un chemin directement."
  },
  {
    cat: "EXPLORATEUR",
    q: "Dans l'Explorateur de fichiers, le volet de navigation sert √† :",
    opts: ["Afficher un aper√ßu du fichier s√©lectionn√©", "Acc√©der rapidement aux emplacements fr√©quents et √† l'arborescence", "Trier les fichiers par nom, taille ou date", "Cr√©er de nouveaux fichiers ou dossiers"],
    ans: 1,
    exp: "Le volet de navigation (colonne gauche) permet d'acc√©der rapidement aux emplacements favoris, OneDrive, Ce PC et aux dossiers courants."
  },
  {
    cat: "EXPLORATEUR",
    q: "Le ¬´ ruban ¬ª (Ribbon) de l'Explorateur de fichiers contient :",
    opts: ["L'arborescence compl√®te des dossiers", "Des onglets avec des actions contextuelles : Accueil, Partage, Affichage", "La liste des fichiers r√©cemment ouverts", "Les param√®tres syst√®me de Windows"],
    ans: 1,
    exp: "Le ruban organise les actions en onglets contextuels (Accueil, Partage, Affichage) et change selon le type d'√©l√©ment s√©lectionn√©."
  },
  // ‚îÄ‚îÄ ARBORESCENCE (4) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    cat: "ARBORESCENCE",
    q: "Quel lecteur est normalement r√©serv√© au syst√®me d'exploitation Windows ?",
    opts: ["Disque D:", "Disque C:", "Disque E:", "Disque A:"],
    ans: 1,
    exp: "Le disque C: (C:\\) est la partition syst√®me de Windows par d√©faut. Il contient les fichiers syst√®me, les programmes install√©s et les dossiers utilisateurs."
  },
  {
    cat: "ARBORESCENCE",
    q: "Quel est le chemin complet typique du dossier Documents d'un utilisateur nomm√© ¬´ Alice ¬ª ?",
    opts: ["C:\\Documents\\Alice", "C:\\Users\\Alice\\Documents", "C:\\Alice\\Mes Documents", "D:\\Users\\Documents\\Alice"],
    ans: 1,
    exp: "Sous Windows 10/11, les dossiers personnels se trouvent dans C:\\Users\\[NomUtilisateur]\\. Ainsi Documents = C:\\Users\\Alice\\Documents."
  },
  {
    cat: "ARBORESCENCE",
    q: "Quel dossier est le plus adapt√© pour stocker vos fichiers personnels de travail ?",
    opts: ["C:\\ (racine du disque)", "C:\\Windows\\System32", "C:\\Users\\[Votre nom]\\Documents", "C:\\Program Files"],
    ans: 2,
    exp: "Le dossier Documents (C:\\Users\\[nom]\\Documents) est pr√©vu pour vos fichiers personnels. La racine C:\\ est r√©serv√©e au syst√®me et C:\\Program Files aux logiciels."
  },
  {
    cat: "ARBORESCENCE",
    q: "Que contient principalement le dossier ¬´ T√©l√©chargements ¬ª (Downloads) ?",
    opts: ["Les mises √† jour Windows automatiques", "Les fichiers t√©l√©charg√©s depuis le navigateur par d√©faut", "Les fichiers syst√®me temporaires de Windows", "Les applications install√©es sur le PC"],
    ans: 1,
    exp: "Le dossier T√©l√©chargements est la destination par d√©faut des fichiers t√©l√©charg√©s via le navigateur. Il doit √™tre vid√© r√©guli√®rement pour lib√©rer de l'espace."
  },
  // ‚îÄ‚îÄ NOMMAGE (4) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    cat: "NOMMAGE",
    q: "Lequel de ces noms de fichier est le mieux nomm√© ?",
    opts: ["fichier1.docx", "mon truc important.pdf", "Rapport-Annuel-2024.docx", "dfghjk.xlsx"],
    ans: 2,
    exp: "Rapport-Annuel-2024.docx est explicite, inclut l'ann√©e, utilise des tirets √† la place des espaces et a une extension correcte. Les autres noms ne permettent pas d'identifier le contenu."
  },
  {
    cat: "NOMMAGE",
    q: "Quel caract√®re est INTERDIT dans les noms de fichiers Windows ?",
    opts: ["Le tiret  -", "Le soulign√©  _", "Le deux-points  :", "Les parenth√®ses  ()"],
    ans: 2,
    exp: "Windows interdit ces caract√®res dans les noms de fichiers : \\ / : * ? \" < > |  ‚Äî Le deux-points (:) est r√©serv√© pour les lecteurs (C:, D:, etc.)."
  },
  {
    cat: "NOMMAGE",
    q: "Quel raccourci clavier permet de renommer un fichier s√©lectionn√© dans l'Explorateur ?",
    opts: ["Entr√©e", "F2", "R", "Ctrl + R"],
    ans: 1,
    exp: "F2 active le mode renommage du fichier ou dossier s√©lectionn√© dans l'Explorateur. On peut aussi faire un double clic lent sur le nom."
  },
  {
    cat: "NOMMAGE",
    q: "L'extension ¬´ .xlsx ¬ª correspond √† quel type de fichier ?",
    opts: ["Un document texte Word", "Un fichier de pr√©sentation PowerPoint", "Un tableur Excel", "Un fichier audio"],
    ans: 2,
    exp: ".xlsx est l'extension des fichiers Microsoft Excel (tableur). .docx = Word, .pptx = PowerPoint, .mp3/.wav = audio."
  },
  // ‚îÄ‚îÄ COPIER/D√âPLACER (4) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    cat: "COPIER/D√âPLACER",
    q: "Quelle combinaison de touches permet de d√©placer (couper) un fichier ?",
    opts: ["Ctrl + C", "Ctrl + D", "Ctrl + X", "Ctrl + M"],
    ans: 2,
    exp: "Ctrl + X coupe l'√©l√©ment (le retire de l'emplacement source) pr√™t √† √™tre coll√© ailleurs avec Ctrl + V. C'est l'√©quivalent du d√©placement par raccourci clavier."
  },
  {
    cat: "COPIER/D√âPLACER",
    q: "Quelle est la diff√©rence entre ¬´ Copier ¬ª et ¬´ D√©placer ¬ª un fichier ?",
    opts: ["Il n'y a aucune diff√©rence", "Copier cr√©e un double (l'original reste), D√©placer transf√®re (l'original dispara√Æt de la source)", "Copier supprime l'original, D√©placer conserve l'original", "Copier fonctionne entre lecteurs, D√©placer uniquement dans le m√™me lecteur"],
    ans: 1,
    exp: "Copier (Ctrl+C) duplique le fichier ‚Äî l'original reste. D√©placer (Ctrl+X) transf√®re le fichier ‚Äî l'original est supprim√© de la source apr√®s collage."
  },
  {
    cat: "COPIER/D√âPLACER",
    q: "Comment s√©lectionner plusieurs fichiers non-cons√©cutifs dans l'Explorateur ?",
    opts: ["Shift + clic sur chaque fichier", "Ctrl + clic sur chaque fichier", "Alt + clic sur chaque fichier", "Double-clic sur chaque fichier"],
    ans: 1,
    exp: "Ctrl + clic permet de s√©lectionner plusieurs fichiers individuels non-cons√©cutifs. Shift + clic s√©lectionne une plage continue de fichiers."
  },
  {
    cat: "COPIER/D√âPLACER",
    q: "Quel raccourci permet d'annuler la derni√®re action dans l'Explorateur (ex : suppression accidentelle) ?",
    opts: ["Ctrl + Z", "Ctrl + Y", "Ctrl + A", "Alt + F4"],
    ans: 0,
    exp: "Ctrl + Z annule la derni√®re action dans l'Explorateur, y compris les suppressions, renommages ou d√©placements. Tr√®s utile pour les erreurs de manipulation."
  },
  // ‚îÄ‚îÄ RECHERCHE (4) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    cat: "RECHERCHE",
    q: "Quelle touche active la barre de recherche directement dans l'Explorateur de fichiers ?",
    opts: ["F1", "F3", "F5", "F12"],
    ans: 1,
    exp: "F3 active imm√©diatement la barre de recherche de l'Explorateur de fichiers, pr√™te √† la saisie. Ctrl+F fonctionne √©galement."
  },
  {
    cat: "RECHERCHE",
    q: "Quel op√©rateur de recherche Windows permet de trouver tous les fichiers PDF ?",
    opts: ["type:pdf", "*.pdf", "ext=pdf", "find:pdf"],
    ans: 1,
    exp: "Le wildcard *.pdf recherche tous les fichiers dont le nom se termine par .pdf. L'√©toile (*) remplace n'importe quelle suite de caract√®res."
  },
  {
    cat: "RECHERCHE",
    q: "Pour rechercher dans tout le PC (et pas seulement un dossier), o√π faut-il se placer dans l'Explorateur ?",
    opts: ["Dans le dossier Documents", "Dans Ce PC", "Dans le Bureau", "Dans Acc√®s rapide"],
    ans: 1,
    exp: "En lan√ßant la recherche depuis ¬´ Ce PC ¬ª, Windows parcourt tous les lecteurs. Si on est dans un sous-dossier, la recherche est limit√©e √† ce dossier et ses sous-dossiers."
  },
  {
    cat: "RECHERCHE",
    q: "Que permet le raccourci Win + S sous Windows ?",
    opts: ["Ouvrir les Param√®tres Windows", "Faire une capture d'√©cran", "Ouvrir la barre de recherche Windows (Start)", "Synchroniser les fichiers OneDrive"],
    ans: 2,
    exp: "Win + S ouvre la barre de recherche Windows qui permet de chercher des fichiers, applications et param√®tres dans tout le syst√®me."
  },
  // ‚îÄ‚îÄ CORBEILLE (4) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    cat: "CORBEILLE",
    q: "Que se passe-t-il quand on appuie sur la touche Suppr sur un fichier s√©lectionn√© ?",
    opts: ["Le fichier est supprim√© d√©finitivement sans r√©cup√©ration possible", "Le fichier est envoy√© dans la Corbeille (suppression r√©versible)", "Une bo√Æte de dialogue demande une confirmation de suppression d√©finitive", "Le fichier est masqu√© mais reste accessible"],
    ans: 1,
    exp: "La touche Suppr envoie le fichier dans la Corbeille, d'o√π il peut √™tre restaur√©. Pour une suppression d√©finitive imm√©diate, il faut utiliser Shift + Suppr."
  },
  {
    cat: "CORBEILLE",
    q: "Comment restaurer un fichier supprim√© depuis la Corbeille ?",
    opts: ["Double-cliquer sur le fichier dans la Corbeille", "Clic droit sur le fichier dans la Corbeille ‚Üí Restaurer", "Glisser le fichier hors de la Corbeille vers le Bureau", "Appuyer sur Ctrl + Z depuis la Corbeille"],
    ans: 1,
    exp: "Clic droit sur un fichier dans la Corbeille ‚Üí ¬´ Restaurer ¬ª remet le fichier √† son emplacement d'origine. On peut aussi s√©lectionner plusieurs fichiers et restaurer en masse."
  },
  {
    cat: "CORBEILLE",
    q: "Quelle combinaison supprime un fichier D√âFINITIVEMENT sans passer par la Corbeille ?",
    opts: ["Ctrl + Suppr", "Shift + Suppr", "Alt + Suppr", "Win + Suppr"],
    ans: 1,
    exp: "Shift + Suppr supprime imm√©diatement et d√©finitivement le fichier sans le placer dans la Corbeille. Cette action est irr√©versible ‚Äî √† utiliser avec pr√©caution."
  },
  {
    cat: "CORBEILLE",
    q: "O√π se trouve l'option pour modifier la taille maximale allou√©e √† la Corbeille ?",
    opts: ["Param√®tres ‚Üí Stockage", "Clic droit sur l'ic√¥ne Corbeille ‚Üí Propri√©t√©s", "Panneau de configuration ‚Üí Syst√®me", "Gestionnaire des t√¢ches ‚Üí Performances"],
    ans: 1,
    exp: "Clic droit sur l'ic√¥ne Corbeille du Bureau ‚Üí Propri√©t√©s permet de d√©finir la taille maximale de la Corbeille pour chaque lecteur, ou de d√©sactiver compl√®tement la mise en Corbeille."
  },
  // ‚îÄ‚îÄ ZIP (4) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    cat: "COMPRESSION ZIP",
    q: "Comment cr√©er une archive ZIP depuis l'Explorateur Windows sans logiciel tiers ?",
    opts: ["Clic droit ‚Üí Compresser dans un fichier ZIP", "Clic droit ‚Üí Envoyer vers ‚Üí Dossier compress√©", "Les deux r√©ponses pr√©c√©dentes sont correctes selon la version Windows", "Il est impossible de cr√©er un ZIP sans logiciel tiers"],
    ans: 2,
    exp: "Windows int√®gre nativement la compression ZIP. Selon la version, le menu peut afficher ¬´ Compresser dans un fichier ZIP ¬ª (Windows 11) ou ¬´ Envoyer vers ‚Üí Dossier compress√© ¬ª (Windows 10)."
  },
  {
    cat: "COMPRESSION ZIP",
    q: "Pour extraire le contenu d'une archive ZIP dans un dossier sp√©cifique, que faut-il faire ?",
    opts: ["Double-cliquer sur le ZIP et glisser les fichiers", "Clic droit sur le ZIP ‚Üí Extraire tout‚Ä¶ ‚Üí Choisir la destination", "Renommer le fichier .zip en .dossier", "Ouvrir le ZIP puis appuyer sur Ctrl + A + C"],
    ans: 1,
    exp: "Clic droit ‚Üí ¬´ Extraire tout‚Ä¶ ¬ª ouvre un assistant permettant de choisir pr√©cis√©ment le dossier de destination pour les fichiers extraits."
  },
  {
    cat: "COMPRESSION ZIP",
    q: "Quel avantage principal offre la compression d'un fichier en ZIP ?",
    opts: ["Le fichier est chiffr√© et s√©curis√© automatiquement", "La taille du fichier est r√©duite et plusieurs fichiers sont regroup√©s en un seul", "Le fichier peut √™tre ouvert sur n'importe quel OS sans installation", "Le fichier est sauvegard√© automatiquement dans le cloud"],
    ans: 1,
    exp: "La compression ZIP r√©duit la taille des fichiers (souvent 30-60%) et permet de regrouper plusieurs fichiers/dossiers en une seule archive, pratique pour l'envoi par email ou le partage."
  },
  {
    cat: "COMPRESSION ZIP",
    q: "Que signifie l'extension ¬´ .7z ¬ª ?",
    opts: ["Un fichier ZIP renomm√© version 7", "Une archive cr√©√©e avec le logiciel 7-Zip, offrant une meilleure compression que ZIP", "Un fichier vid√©o compress√© version 7", "Un format propri√©taire Microsoft"],
    ans: 1,
    exp: ".7z est le format d'archive du logiciel libre 7-Zip. Il offre g√©n√©ralement un meilleur taux de compression que le ZIP standard, mais n√©cessite 7-Zip pour √™tre ouvert."
  },
  // ‚îÄ‚îÄ BONNES PRATIQUES (6) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    cat: "BONNES PRATIQUES",
    q: "Quelle est la r√®gle de sauvegarde ¬´ 3-2-1 ¬ª ?",
    opts: ["3 sauvegardes quotidiennes, 2 hebdomadaires, 1 mensuelle", "3 copies des donn√©es, sur 2 supports diff√©rents, dont 1 hors site (cloud/disque externe)", "Sauvegarder toutes les 3 heures, sur 2 PC, 1 fois par jour minimum", "3 Go par sauvegarde, 2 fois par semaine, 1 an de conservation"],
    ans: 1,
    exp: "La r√®gle 3-2-1 est une bonne pratique universelle : 3 copies de vos donn√©es, sur 2 supports diff√©rents (ex : PC + disque externe), dont 1 copie hors site (cloud ou chez un tiers)."
  },
  {
    cat: "BONNES PRATIQUES",
    q: "Quelle est la profondeur d'arborescence recommand√©e pour ne pas se perdre dans ses dossiers ?",
    opts: ["1 niveau maximum", "Pas plus de 3 niveaux", "Entre 5 et 7 niveaux pour une organisation fine", "Il n'y a pas de limite recommand√©e"],
    ans: 1,
    exp: "Une arborescence de 3 niveaux maximum (ex : Documents ‚Üí Travail ‚Üí Projets) est id√©ale. Au-del√†, la navigation devient fastidieuse et la structure difficile √† maintenir."
  },
  {
    cat: "BONNES PRATIQUES",
    q: "Pourquoi ne faut-il PAS stocker ses fichiers originaux directement sur le Bureau Windows ?",
    opts: ["Le Bureau ne peut pas stocker de fichiers", "Les fichiers sur le Bureau ralentissent Windows et risquent d'√™tre perdus ou confondus avec des raccourcis", "Windows supprime automatiquement les fichiers du Bureau apr√®s 30 jours", "Les fichiers du Bureau ne peuvent pas √™tre sauvegard√©s"],
    ans: 1,
    exp: "Le Bureau est un espace de travail visuel, pas un dossier de stockage. Stocker des fichiers sur le Bureau encombre l'interface, ralentit certains syst√®mes et rend difficile la distinction entre fichiers r√©els et raccourcis."
  },
  {
    cat: "BONNES PRATIQUES",
    q: "Quel est le principal inconv√©nient du dossier ¬´ Divers ¬ª ou ¬´ Autres ¬ª ?",
    opts: ["Windows ne reconna√Æt pas ce nom de dossier", "Il devient un fourre-tout difficile √† parcourir, rendant les fichiers introuvables √† terme", "Ce type de dossier est automatiquement supprim√© par Windows", "Il ne peut pas contenir de sous-dossiers"],
    ans: 1,
    exp: "Un dossier ¬´ Divers ¬ª devient rapidement un fourre-tout ing√©rable. Le principe ¬´ un dossier = un sujet ¬ª permet de retrouver ses fichiers facilement m√™me des mois plus tard."
  }
];

// ‚îÄ‚îÄ State ‚îÄ‚îÄ
let cur = 0, score = 0, skipped = 0, answered = 0;
let history = [];
let done = new Array(Q.length).fill(false);
let wasCorrect = new Array(Q.length).fill(false);

function startQuiz() {
  document.getElementById('start-screen').style.display = 'none';
  document.getElementById('quiz-screen').style.display = 'block';
  document.getElementById('progress-section').style.display = 'block';
  document.getElementById('dots-section').style.display = 'block';
  buildDots();
  renderQ();
}

function buildDots() {
  const wrap = document.getElementById('dots-wrap');
  wrap.innerHTML = Q.map((_,i) => `<div class="dot" id="d${i}"></div>`).join('');
}

function updateDot(i, cls) {
  const d = document.getElementById('d'+i);
  d.classList.remove('current','correct','wrong','skipped');
  if (cls) d.classList.add(cls);
}

function renderQ() {
  const q = Q[cur];
  const letters = ['A','B','C','D'];

  // progress
  document.getElementById('prog-label').textContent = `${cur+1} / ${Q.length}`;
  document.getElementById('prog-fill').style.width = `${(cur/Q.length)*100}%`;
  document.getElementById('score-label').textContent = `Score : ${score}`;
  document.getElementById('q-num').textContent = `Q.${String(cur+1).padStart(2,'0')}`;
  document.getElementById('q-cat').textContent = q.cat;
  document.getElementById('q-text').textContent = q.q;

  // update dots
  for (let i=0;i<Q.length;i++) {
    if (i===cur) updateDot(i,'current');
  }

  // options
  const optsEl = document.getElementById('options');
  optsEl.innerHTML = q.opts.map((o,i) => `
    <button class="opt-btn" id="o${i}" onclick="pick(${i})">
      <span class="opt-letter">${letters[i]}</span>
      <span class="opt-text">${o}</span>
    </button>
  `).join('');

  // reset feedback
  const fb = document.getElementById('feedback');
  fb.className = 'feedback-box';
  document.getElementById('tip-text').textContent = 'S√©lectionnez une r√©ponse';
  document.getElementById('next-btn').disabled = true;
  document.getElementById('skip-btn').disabled = false;

  // re-animate
  const card = document.getElementById('q-card');
  card.style.animation = 'none';
  card.offsetHeight;
  card.style.animation = 'cardIn 0.35s cubic-bezier(0.4,0,0.2,1)';
}

function pick(idx) {
  if (done[cur]) return;
  done[cur] = true;
  answered++;

  const q = Q[cur];
  const correct = idx === q.ans;
  const letters = ['A','B','C','D'];

  if (correct) {
    score++;
    wasCorrect[cur] = true;
    document.getElementById('o'+idx).classList.add('correct-ans');
    updateDot(cur,'correct');
    showFeedback(true, 'Bonne r√©ponse !', q.exp);
  } else {
    document.getElementById('o'+idx).classList.add('wrong-ans');
    document.getElementById('o'+q.ans).classList.add('reveal');
    updateDot(cur,'wrong');
    showFeedback(false,
      `Incorrect ‚Äî bonne r√©ponse : ${letters[q.ans]}`,
      q.exp
    );
  }

  document.querySelectorAll('.opt-btn').forEach(b => b.disabled = true);
  document.getElementById('skip-btn').disabled = true;
  document.getElementById('next-btn').disabled = false;
  document.getElementById('tip-text').textContent = '';
  document.getElementById('score-label').textContent = `Score : ${score}`;

  history.push({
    q: q.q,
    correct,
    userAns: q.opts[idx],
    rightAns: q.opts[q.ans]
  });
}

function showFeedback(ok, title, body) {
  const fb = document.getElementById('feedback');
  document.getElementById('fb-icon').textContent = ok ? '‚úÖ' : '‚ùå';
  document.getElementById('fb-title').textContent = title;
  document.getElementById('fb-body').textContent = body;
  fb.className = `feedback-box show ${ok ? 'fb-correct' : 'fb-wrong'}`;
}

function skipQ() {
  if (done[cur]) return;
  done[cur] = true;
  skipped++;

  const q = Q[cur];
  document.getElementById('o'+q.ans).classList.add('reveal');
  document.querySelectorAll('.opt-btn').forEach(b => b.disabled = true);
  document.getElementById('skip-btn').disabled = true;
  document.getElementById('next-btn').disabled = false;
  updateDot(cur,'skipped');
  showFeedback(false, 'Question pass√©e', `La bonne r√©ponse √©tait : ${q.opts[q.ans]}. ${q.exp}`);

  history.push({ q: q.q, correct: false, userAns: '(pass√©e)', rightAns: q.opts[q.ans] });
}

function nextQ() {
  if (cur < Q.length - 1) {
    cur++;
    renderQ();
  } else {
    showResults();
  }
}

function showResults() {
  document.getElementById('quiz-screen').style.display = 'none';
  document.getElementById('progress-section').style.display = 'none';
  document.getElementById('dots-section').style.display = 'none';

  const rs = document.getElementById('results-screen');
  rs.style.display = 'block';
  window.scrollTo({ top: 0, behavior: 'smooth' });

  const pct = Math.round(score / Q.length * 100);
  const wrong = answered - skipped - score;

  document.getElementById('r-score').textContent = `${score}/${Q.length}`;
  document.getElementById('r-pct').textContent   = `${pct}% de r√©ussite`;
  document.getElementById('s-ok').textContent = score;
  document.getElementById('s-ko').textContent = wrong;
  document.getElementById('s-sk').textContent = skipped;

  let trophy, grade, msg, gradeColor;
  if (pct >= 90)      { trophy='üèÜ'; grade='Excellent !';     gradeColor='var(--gold)';   msg='Ma√Ætrise parfaite de la gestion des fichiers Windows. Vous √™tes un expert de l\'organisation !'; }
  else if (pct >= 75) { trophy='ü•á'; grade='Tr√®s bien !';     gradeColor='#C8A000';       msg='Tr√®s bonne connaissance. Revoyez quelques points sur la recherche ou les bonnes pratiques pour atteindre l\'excellence.'; }
  else if (pct >= 60) { trophy='ü•à'; grade='Bien';            gradeColor='var(--sage)';   msg='Bonne base ! Des lacunes subsistent notamment sur les raccourcis clavier et l\'arborescence.'; }
  else if (pct >= 40) { trophy='ü•â'; grade='Passable';        gradeColor='var(--orange)'; msg='Des bases √† consolider. Relisez les sections sur la Corbeille, la compression ZIP et les bonnes pratiques.'; }
  else                { trophy='üìö'; grade='√Ä retravailler';  gradeColor='var(--terra)';  msg='Beaucoup de points √† revoir. Parcourez la pr√©sentation compl√®te et retentez ce quiz !'; }

  document.getElementById('trophy').textContent = trophy;
  document.getElementById('r-grade').textContent = grade;
  document.getElementById('r-grade').style.color = gradeColor;
  document.getElementById('r-msg').textContent = msg;

  const list = document.getElementById('review-list');
  list.innerHTML = history.map((h,i) => `
    <div class="review-item ${h.correct?'r-ok':'r-ko'}">
      <span class="r-icon">${h.correct?'‚úÖ':'‚ùå'}</span>
      <div>
        <div class="r-q">${i+1}. ${h.q}</div>
        <div class="r-a">${h.correct ? 'Bonne r√©ponse ‚úì' : `Votre r√©ponse : ${h.userAns} ‚Üí Bonne r√©ponse : ${h.rightAns}`}</div>
      </div>
    </div>
  `).join('');
}

function restart() {
  cur=0; score=0; skipped=0; answered=0;
  history=[];
  done=new Array(Q.length).fill(false);
  wasCorrect=new Array(Q.length).fill(false);
  document.getElementById('results-screen').style.display = 'none';
  document.getElementById('quiz-screen').style.display = 'block';
  document.getElementById('progress-section').style.display = 'block';
  document.getElementById('dots-section').style.display = 'block';
  window.scrollTo({top:0,behavior:'smooth'});
  buildDots();
  renderQ();
}
</script>
</body>
</html>
